/*
**  TextFrame -- Re-Frame Multi-Line Text
**  Copyright (c) 2017-2025 Dr. Ralf S. Engelschall <rse@engelschall.com>
**
**  Permission is hereby granted, free of charge, to any person obtaining
**  a copy of this software and associated documentation files (the
**  "Software"), to deal in the Software without restriction, including
**  without limitation the rights to use, copy, modify, merge, publish,
**  distribute, sublicense, and/or sell copies of the Software, and to
**  permit persons to whom the Software is furnished to do so, subject to
**  the following conditions:
**
**  The above copyright notice and this permission notice shall be included
**  in all copies or substantial portions of the Software.
**
**  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/

(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.textframe = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(_dereq_,module,exports){
const objectAssign=(e,...t)=>{for(let n=0;n<t.length;n++)for(const r in t[n])hasOwnProperty.call(t[n],r)&&(e[r]=t[n][r]);return e},textframe=(...e)=>{if(1!==e.length||"object"!=typeof e[0]||e[0]instanceof Array||null===e[0]){if(e.length>=1&&"object"==typeof e[0]&&e[0]instanceof Array){const t=e[0].length-1,n=objectAssign({},...e.slice(1+t));return textframe.raw(String.raw({raw:e[0]},...e.slice(1,1+t)),n)}if(e.length>=1){const t=objectAssign({},...e.slice(1));return textframe.raw(e[0],t)}throw new Error("invalid arguments")}return textframe.make(e[0])};textframe.raw=((e,t={})=>{if(t=objectAssign({tabsize:8,indent:0,leading:0,trailing:0},t),"string"!=typeof e)throw new Error('invalid input text (expected type "string")');const n=e.indexOf("\r\n")>=0?"\r\n":"\n",r=(e=(e=e.split(n).map(e=>{const n=e.match(/^([ \t]*)(\S.*|)$/);if(null!==n){let[,r,a]=n,i=0;e=(r=r.replace(/\t/g,(e,n)=>{const r=t.tabsize-(n+i)%t.tabsize;return i+=r-1," ".repeat(t.tabsize).slice(0,r)}))+a}return e}).join(n)).replace(/[ \t]+$/gm,"")).match(/^ *(?=\S)/gm);if(null!==r){const t=r.map(e=>e.length),n=Math.min.apply(Math,t);if(n>0){const t=new RegExp(`^ {${n}}`,"gm");e=e.replace(t,"")}}if(t.indent>0){const n=" ".repeat(t.indent);e=e.replace(/^(?!\s*$)/gm,n)}return e=e.replace(/^(?: *\r?\n)+/,""),t.leading>0&&(e=n.repeat(t.leading)+e),e=(e=e.replace(/(?: *\r?\n)+$/,"")).replace(/([^\n])$/,"$1"+n),t.trailing>0&&(e+=n.repeat(t.trailing)),e}),textframe.make=((e={})=>(...t)=>textframe(...t,e)),module.exports=textframe;

},{}]},{},[1])(1)
});
